<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <script type="text/javascript" src="https://rawgit.com/patriciogonzalezvivo/glslCanvas/master/dist/GlslCanvas.js"></script>
    <script>
        var sidebar = false;
        function openSidebar() {
            sidebar = !sidebar;
            if (sidebar) {
                document.getElementById("sidebar").style.display = "block";
            } else {
                document.getElementById("sidebar").style.display = "none";
            }

        }

    </script>
</head>
<body id="home">
    <button id="sidebar-button" class="sidebar-button" onclick="openSidebar()">
        <img src="assets/menu-button.svg" id="sidebar-button-img" />
    </button>
    <div id="sidebar">
        <div id="sidebar-stub">
            <div>
                <a href="index.html">home</a>
            </div>
            <br /><br /><br /><br />
            <div>
                <a href="works.html">works</a>
            </div>
            <div>
                <a href="about.html">about</a>
            </div>
            <div>
                <a href="contact.html">contact</a>
            </div>
            <div>
                <a href="links.html">links</a>
            </div>
            <div>
                <a href="assets/resume.pdf">resume</a>
            </div>
        </div>
    </div>

    <div id="top-bar">
        <div id="sidebar-frame">
        </div>
        <div id="header">

        </div>
        <a id="site-name" href="index.html">
            cole nugteren
        </a>
    </div>

    <div id="center-content">
        <br />
        <div style="font-size:48px;">cole nugteren</div> <br />
        <div style="font-size:32px;">game developer</div>
    </div>

    <div id="bottom-menu">
        <div id="sidebar-stub">
            <div>
                <a href="about.html">about</a>
            </div>
            <div>
                <a href="contact.html">contact</a>
            </div>
            <div>
                <a href="links.html">links</a>
            </div>
            <div>
                <a href="assets/resume.pdf">resume</a>
            </div>
        </div>
        <div id="shortcuts">
            <div id="column">
                <div>
                    <br />
                    <a target="_blank" rel="noopener noreferrer" href="https://canslp.itch.io">games</a>
                </div>
                <div>
                    <br />
                    <a target="_blank" rel="noopener noreferrer" href="https://canslp.bandcamp.com/">music</a>
                </div>
            </div>
            <div id="column">
                <div>
                    <br />
                    <a target="_blank" rel="noopener noreferrer" href="https://www.artstation.com/canslp">artworks</a>
                </div>
                <div>
                    <br />
                    <a href="index.html">miscellaneous</a>
                </div>
            </div>
        </div>
    </div>

    <canvas class="glslCanvas" id="main-canvas" data-fragment="
            #ifdef GL_ES
            precision mediump float;
            #endif
            uniform vec2 u_resolution;
            uniform float u_time;
            uniform vec2 u_mouse;

            vec2 GetGradient(vec2 intPos, float t) {
                float rand = fract(sin(dot(intPos, vec2(12.9898, 78.233))) * 43758.5453);;

                float angle = 6.283185 * rand + 4.0 * t * rand;
                return vec2(cos(angle), sin(angle));
            }

            float Pseudo3dNoise(vec3 pos) {
                vec2 i = floor(pos.xy);
                vec2 f = pos.xy - i;
                vec2 blend = f * f * (3.0 - 2.0 * f);
                float noiseVal =
                    mix(
                        mix(
                            dot(GetGradient(i + vec2(0, 0), pos.z), f - vec2(0, 0)),
                            dot(GetGradient(i + vec2(1, 0), pos.z), f - vec2(1, 0)),
                            blend.x),
                        mix(
                            dot(GetGradient(i + vec2(0, 1), pos.z), f - vec2(0, 1)),
                            dot(GetGradient(i + vec2(1, 1), pos.z), f - vec2(1, 1)),
                            blend.x),
                    blend.y
                );
                return noiseVal / 0.7; // normalize to about [-1..1]
            }

            void main() {
                vec2 dot_uv = floor(gl_FragCoord.xy/20.0)*20.0;
                float mouse_dist = (gl_FragCoord.x-u_mouse.x)*(gl_FragCoord.x-u_mouse.x)+(gl_FragCoord.y-u_mouse.y)*(gl_FragCoord.y-u_mouse.y);
                float dot_mouse_dist = (dot_uv.x-u_mouse.x)*(dot_uv.x-u_mouse.x)+(dot_uv.y-u_mouse.y)*(dot_uv.y-u_mouse.y);

                vec2 uv = gl_FragCoord.xy/u_resolution.xy;
                vec2 mouse = u_mouse.xy/u_resolution.xy;



                float noise = Pseudo3dNoise(vec3(0.005*dot_uv,u_time*0.1));

                float swirl = noise*noise/(dot_mouse_dist*0.00001+1.0);
                swirl=max(0.0,swirl-0.025);
                swirl = min(1.0,swirl*100.0);

                float grid = sqrt(pow(mod(gl_FragCoord.x,20.0)-10.0,2.0)+pow(mod(gl_FragCoord.y,20.0)-10.0,2.0));

                float shade = smoothstep(swirl*5.0,swirl*2.0,grid);

                vec3 c_ground = vec3(237.0/255.0,242.0/255.0,241.0/255.0);
                vec3 c_dot = vec3(227.0/255.0,232.0/255.0,231.0/255.0);

                gl_FragColor = vec4(mix(c_ground,c_dot,shade),1.0);
            }
    " width="1920" height="911"></canvas>

</body>
</html>